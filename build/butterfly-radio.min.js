"use strict";const SHADOW_ROOT_STYLE='\n<style>\n:host {\nposition: relative;\n}\n\n.butterfly {\nposition: inherit;\ntop: -3em;\nwidth: 2.5em;\nheight: 2.5em;\ntransition: all 1000ms 0s ease-in;\n}\n.butterfly-on {\ntransform: translateX(2.5em) translateY(2.5em);\n}\n.butterfly-off {\ntransform: translateX(5em) translateY(0) rotate(-30deg) scale(.3);\n}\n.butterfly-far {\ntransform: rotate(60deg) scale(.3);\n}\n.butterfly-hidden {\nvisibility : hidden;\n}\ninput[type="radio"] {\nfilter: alpha(opacity=0);\n-moz-opacity: 0;\nopacity: 0;\nposition: absolute;\n}\n.butterfly-radio + label {\nbackground-image: url(https://user-images.githubusercontent.com/45185896/56783220-971f4b80-6825-11e9-930c-7b7dd3216f68.png);\nbackground-repeat: no-repeat;\nbackground-size: contain;\nheight: 2em;\nline-height: 2em;\ndisplay: inline-block;\npadding: 0 0 0 2.5em;\ncursor: pointer;\noverflow: hidden;\n}\n.butterfly-radio:checked + label {\nbackground-image: url(https://user-images.githubusercontent.com/45185896/56783218-92f32e00-6825-11e9-8c7d-40db66e717e3.png);\nbackground-repeat: no-repeat;\nbackground-size: contain;\n}\n</style>\n';class ButterflyRadio extends HTMLElement{constructor(){super(),this._shadowRoot=this.attachShadow({mode:"open"}),this._shadowRoot.innerHTML=SHADOW_ROOT_STYLE}static get observedAttributes(){return["name"]}attributeChangedCallback(t,e,n){const a=this.getAttribute("name");let s;Array.from(this.children).forEach(t=>{if(t instanceof HTMLInputElement&&"radio"===t.type){t.name=a,s=t.value,t.id="flower-"+a+"-"+s,t.classList.add("butterfly-radio");const e=document.createElement("img");e.src="https://user-images.githubusercontent.com/45185896/56783226-a0a8b380-6825-11e9-976b-606b2a85cafe.png",e.classList.add("butterfly"),e.classList.add("butterfly-far"),e.classList.add("butterfly-hidden"),e.id="butterfly-"+a+"-"+s,t.addEventListener("change",n=>{t===n.target&&n.target.value&&(this._fly(e),this._onFlower(e))},!1),this._shadowRoot.appendChild(e),this._shadowRoot.appendChild(t)}t instanceof HTMLLabelElement&&(t.htmlFor="flower-"+a+"-"+s,this._shadowRoot.appendChild(t))})}_fly(t){Array.from(this._shadowRoot.children).forEach(e=>{e instanceof HTMLImageElement&&e!==t&&(e.classList.add("butterfly-off"),e.classList.add("butterfly-hidden"),e.classList.remove("butterfly-on"),wait(1e3).then(()=>{e.classList.add("butterfly-hidden"),e.classList.remove("butterfly-off"),e.classList.add("butterfly-far")}))})}_onFlower(t){t.classList.remove("butterfly-hidden"),t.classList.remove("butterfly-far"),t.classList.add("butterfly-on")}}const wait=t=>new Promise(e=>setTimeout(e,t)),butterflyRadio=()=>customElements.define("butterfly-radio",ButterflyRadio);butterflyRadio();
